<h1 class="display-4">Role List</h1>

<div class="alert alert-success" role=alert *ngIf="deleteSuccess === true">Role
  '{{selectedTemplateRoleId}}' success deleted.
</div>
<div class="alert alert-danger" role=alert *ngIf="deleteSuccess === false">Failure. Role
  '{{selectedTemplateRoleId}}' not deleted.<br>Reason: {{statusMessage}}
</div>

<button type="button" class="btn btn-success" data-toggle="modal" data-target="#detailModal"
        data-whatever="@getbootstrap" (click)="init(DetailMode.NEW, TemplateRoleFactory.empty())">
  <span class="oi oi-plus"></span>
  New
</button>

<table class="table table-striped" [appShowIfPermission]="'ROLE_ADMIN'">
  <thead class="thead-light">
  <tr>
    <th scope="col">ID</th>
    <th scope="col">Description</th>
    <th scope="col">Actions</th>
  </tr>
  </thead>
  <tbody>
  <tr *ngFor="let templateRole of templateRoles">
    <td>{{templateRole.id}}</td>
    <td>{{templateRole.description}}</td>
    <td>
      <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#detailModal"
              data-whatever="@getbootstrap" (click)="init(DetailMode.EDIT, templateRole)">
        <span class="oi oi-pencil"></span>
      </button>&nbsp;
      <button type="button" class="btn btn-danger" data-toggle="modal" data-target="#deleteModal"
              data-whatever="@getbootstrap" (click)="openRoleDeleteDialog(templateRole.id)">
        <span class="oi oi-trash"></span>
      </button>
    </td>
  </tr>
  </tbody>
</table>

<app-role-detail (reloadListEvent)="reloadList($event)"></app-role-detail>

<app-role-delete [templateRoleId]="selectedTemplateRoleId"
                 (reloadListEvent)="deleteActionDone($event)"></app-role-delete>
